<h4 class="font-weight-bold py-3 mb-4">
  Profile
</h4>

<div class="card overflow-hidden">
  <div class="row no-gutters row-bordered row-border-light">
    <div class="col-md-3 pt-0">
      <div class="list-group list-group-flush account-settings-links">
        <button type="button" class="list-group-item list-group-item-action" [ngClass]="{active: curTab === 'general'}" (click)="curTab = 'general'">General</button>
        <button type="button" class="list-group-item list-group-item-action" [ngClass]="{active: curTab === 'password'}" (click)="curTab = 'password'">Change password</button>
        <button type="button" class="list-group-item list-group-item-action" [ngClass]="{active: curTab === 'permissions'}" (click)="curTab = 'permissions'">My Permissions</button>
      </div>
    </div>
    <div class="col-md-9" *ngIf="curTab === 'general'">

      <div class="card-body media align-items-center">
        <img [src]="url + '/' + user.photo" alt="" class="d-block ui-w-80 img-thumbnail">

        <div class="media-body ml-4">
          <button type="button" (click)="selectImageInput()" class="btn btn-outline-primary">Upload new photo</button> &nbsp;
          <input type="file" style="display: none;" id="profilechange" (change)="changeImage($event)">
          <div class="text-light small mt-1">Allowed JPG, GIF or PNG. Max size of 800K</div>
        </div>
      </div>
      <hr class="border-light m-0">

      <div class="card-body">
        <div class="form-group">
          <label class="form-label">Username</label>
          <input disabled [(ngModel)]="user.username" type="text" class="form-control mb-1" value="nmaxwell">
        </div>
        <div class="form-group">
          <label class="form-label">Name</label>
          <input [(ngModel)]="user.fullname" type="text" class="form-control" value="Nelle Maxwell">
        </div>
        <div class="form-group">
          <label class="form-label">E-mail</label>
          <input disabled [(ngModel)]="user.email" type="text" class="form-control mb-1" value="nmaxwell@mail.com">
        </div>
        <div class="form-group">
          <label class="form-label">ID Number</label>
          <input [(ngModel)]="user.cnic" type="text" class="form-control" value="Nelle Maxwell">
        </div>
        <div class="form-group">
          <label class="form-label">Salary</label>
          <input [(ngModel)]="user.salary" type="text" class="form-control" value="Nelle Maxwell">
        </div>
        <div class="text-right mt-3">
          <button type="button" (click)="updateProfile()" class="btn btn-primary">Save changes</button>&nbsp;
          <button type="button" class="btn btn-default">Cancel</button>
        </div>
      </div>


    </div>
    <div class="col-md-9" *ngIf="curTab === 'password'">
      <div class="card-body pb-2">
        <div class="form-group">
          <label class="form-label">New password</label>
          <input [(ngModel)]="password" type="password" class="form-control">
        </div>
        <div class="form-group">
          <label class="form-label">Repeat new password</label>
          <input [(ngModel)]="rpassword" (keyup)="checkpasseq()" type="password" class="form-control">
        </div>
        <div style="color: orangered">
          {{ error }}
        </div>
        <div class="text-right mt-3">
          <button type="button" (click)="changePassword()" class="btn btn-primary" [disabled]="disabled">Save changes</button>&nbsp;
        </div>

      </div>
    </div>
    <div class="col-md-9" *ngIf="curTab === 'permissions'">
      <div class="card-body pb-2">
        <label class="form-label">Role Name</label>
        <p> {{ role.name }} </p>
        <label class="form-label">Role Description</label>
        <p> {{ role.description }} </p>
        <div class="table-responsive">
          <table class="table table-borderless">
            <thead class="thead-light">
            <tr>
              <th>Features</th>
              <th>Full Control</th>
              <th>Read</th>
              <th>Create</th>
              <th>Update</th>
              <th>Delete</th>
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let r of record">
              <th scope="row">{{ r.feature.label }}</th>
              <td>
                <label class="custom-control custom-checkbox px-2 m-0 text-center">
                  <span *ngIf="r.fullperm" class="ion ion-ios-star"></span>
                </label>
              </td>
              <td>
                <label class="custom-control custom-checkbox px-2 m-0">
                  <span *ngIf="r.read" class="ion ion-ios-star"></span>
                </label>
              </td>
              <td>
                <label class="custom-control custom-checkbox px-2 m-0">
                  <span *ngIf="r.create" class="ion ion-ios-star"></span>
                </label>
              </td>
              <td>
                <label class="custom-control custom-checkbox px-2 m-0">
                  <span *ngIf="r.update" class="ion ion-ios-star"></span>
                </label>
              </td>
              <td>
                <label class="custom-control custom-checkbox px-2 m-0">
                  <span *ngIf="r.delete" class="ion ion-ios-star"></span>
                </label>
              </td>
            </tr>
            </tbody>
          </table>

        </div>


      </div>
    </div>
  </div>
</div>


